import{h as A,n as G,p as ie,d as D,f as j,E as H,q as ee,r as ue,u as L,v as ce,w as de,c as V,o as F,a as v,l as R,e as W,b as n,t as O,x as fe,i as Y,$ as ve,s as N,m as ge,j as K,k as me}from"../chunks/disclose-version.Dl07N0Qn.js";import{x as E,l as pe,B as q,y as ae,z as he,A as U,E as be,m as X,i as _e,S as xe,s as J,t as we,p as re,a as te,g as se,F as le,G as P}from"../chunks/runtime.DciYrRLz.js";import{i as ye,b as Z}from"../chunks/this.CC_GLEaP.js";import{s as ke,g as b,h as Ae}from"../chunks/game.svelte.FG6LABOv.js";import{b as Ee}from"../chunks/paths.dfzbnG5e.js";let B=null;function Ce(e,t,l,r,d,u,f){var s={flags:t,items:[]},h=(t&ue)!==0;if(h){var i=e;e=A?G(i.firstChild):i.appendChild(ie())}var o=null,g=E(()=>{var M,T;var a=l(),m=pe(a)?a:a==null?[]:Array.from(a),w=r===null?m:m.map(r),y=m.length,p=s.flags;p&L&&!_e(m)&&!(xe in m)&&(p^=L,p&ce&&!(p&H)&&(p^=H));let C=!1;if(A){var S=((T=(M=D)==null?void 0:M[0])==null?void 0:T.data)==="ssr:each_else";S!==(y===0)?(q(D),j(!1),C=!0):S&&D.shift()}if(A){for(var I=[],c=D[0],_=0;_<y;_++){if(c.nodeType!==8||c.data!=="["){C=!0,j(!1);break}c=G(c),I[_]=ne(c,m[_],w==null?void 0:w[_],_,d,p),c=c.nextSibling}if(y>0)for(;c!==e;){var Q=c.nextSibling;c.remove(),c=Q}s.items=I}A||f(m,s,e,d,p,w),u!==null&&(y===0?o?ae(o):o=E(()=>{var k=u(e);return()=>{k!==void 0&&q(k)}},!0):o!==null&&he(o,()=>{o=null})),C&&j(!0)});g.ondestroy=()=>{for(var a of s.items)a.e.dom!==null&&(q(a.e.dom),U(a.e));o&&U(o)}}function Se(e,t,l,r,d=null){Ce(e,t,l,null,r,d,Ie)}function Ie(e,t,l,r,d){for(var u=t.items,f=u.length,s=e.length,h=Math.min(f,s),i=Array(s),o,g,a=0;a<h;a+=1)g=e[a],o=u[a],i[a]=o,Me(o,g,a,d),ae(o.e);if(s>f){for(;a<s;a+=1)g=e[a],o=ne(l,g,null,a,r,d),i[a]=o;t.items=i}else if(f>s){var m=[];for(a=s;a<f;a+=1)m.push(u[a].e);be(m,()=>{t.items.length=s})}}function Me(e,t,l,r){r&H&&X(e.v,t),r&ee?X(e.i,l):e.i=l}function ne(e,t,l,r,d,u){var f=(u&H)===0,s={a:null,e:null,i:u&ee?J(r):r,k:l,v:f?t:u&L?J(t):we(t)},h=B;try{return B=s,s.e=E(()=>{var i=d(e,s.v,s.i);return()=>{i!==void 0&&q(i)}},!0),s}finally{B=h}}function Te(e,t){var l=e.__className,r=$e(t);A&&e.className===r?e.__className=r:(l!==r||A&&e.className!==r)&&(t==null?e.removeAttribute("class"):de(e,r),e.__className=r)}function $e(e){return e??""}var De=O('<button class="scale-100 transform rounded-lg border-2 border-yellow-400 bg-yellow-400/10 p-2 shadow-md transition duration-100 ease-in-out hover:bg-yellow-400/20 active:scale-90"> </button>'),Ne=O('<div class="flex flex-col gap-4"><h1 class="text-center text-3xl font-semibold leading-10">What flag is this?</h1> <div class="flex w-full flex-col items-center gap-4"><img width="400" height="200" class="max-w-xl border-2 border-black/30 p-2" alt="flag"> <div class="grid grid-cols-3 gap-2"></div></div></div>');function Re(e,t){te(t,!0);let l=le(()=>`${Ee}/svg/${t.question.answer.code}.svg`);var r=F(Ne),d=v(r),u=n(n(d,!0)),f=v(u),s=n(n(f,!0));Se(s,73,()=>t.question.choices,(h,i,o)=>{var g=F(De),a=v(g);return E(()=>R(a,P(i))),W("click",g,()=>b.selectAnswer(P(i)),!1),V(h,g)}),E(()=>ke(f,"src",se(l))),V(e,r),re()}var qe=O("<p>Game is over</p>"),He=O('<main class="mx-auto flex min-h-svh max-w-screen-lg flex-col py-4"><header class="mb-8 flex flex-col items-center gap-y-4"><h1 class="text-5xl font-semibold leading-10">World of Flags</h1> <div class="flex gap-1"><button class="flex scale-100 transform items-center gap-x-2 rounded-lg border-2 border-red-500 bg-red-400/10 p-2 shadow-md transition duration-100 ease-in-out hover:bg-red-400/20 active:scale-90"><span>Incorrect answers only</span> <span><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 21 21"><g fill="none" fill-rule="evenodd" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"><path d="M3.578 6.487A8 8 0 1 1 2.5 10.5"></path><path d="M7.5 6.5h-4v-4"></path></g></svg></span></button> <button class="flex scale-100 transform items-center gap-x-2 rounded-lg border-2 border-red-500 bg-red-400/10 p-2 shadow-md transition duration-100 ease-in-out hover:bg-red-400/20 active:scale-90"><span>Reset</span> <span><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 21 21"><g fill="none" fill-rule="evenodd" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"><path d="M3.578 6.487A8 8 0 1 1 2.5 10.5"></path><path d="M7.5 6.5h-4v-4"></path></g></svg></span></button></div></header> <div class="flex h-full items-center justify-center"><div class="flex flex-col items-center gap-y-4"><div><div class="flex gap-2"><p class="rounded-lg bg-gray-200 px-2"> </p> <p class="rounded-lg bg-green-500 px-2"> </p> <p class="rounded-lg bg-red-500/70 px-2"> </p></div></div> <!></div></div></main> <dialog class="absolute inset-0 p-4 backdrop:bg-black/60"><h1>Are you sure you want to reset the game with only incorrect answers?</h1> <form class="mt-4 flex gap-2" method="dialog"><button class="rounded bg-gray-300 p-2" value="cancel" formmethod="dialog">Cancel</button> <button class="rounded bg-red-400 p-2" value="confirm">Confirm</button></form></dialog> <dialog class="absolute inset-0 p-4 backdrop:bg-black/60"><h1>Are you sure you want to reset the game?</h1> <form class="mt-4 flex gap-2" method="dialog"><button class="rounded bg-gray-300 p-2" value="cancel" formmethod="dialog">Cancel</button> <button class="rounded bg-red-400 p-2" value="confirm">Confirm</button></form></dialog>',!0);function Ve(e,t){te(t,!0);let l,r;const d=le(()=>b.questions[b.current]);function u(){r.returnValue==="confirm"&&b.reset("incorrect-only"),r.close()}function f(){l.returnValue==="confirm"&&b.reset(),l.close()}var s=ge(He);Ae(x=>{ve.title="World of Flags"});var h=K(s),i=v(h),o=v(i),g=n(n(o,!0)),a=v(g);a.__click=()=>r.showModal();var m=n(n(a,!0));m.__click=()=>l.showModal();var w=n(n(i,!0)),y=v(w),p=v(y);Te(p,"");var C=v(p),S=v(C),I=v(S),c=n(n(S,!0)),_=v(c),Q=n(n(c,!0)),M=v(Q),T=n(n(p,!0));ye(T,()=>b.currentQuestion,x=>{var $=me(),oe=K($);return Re(oe,{get question(){return se(d)}}),Y(x,$)},x=>{var $=F(qe);return V(x,$)});var k=n(n(h,!0));Z(k,x=>r=x,()=>r);var z=n(n(k,!0));Z(z,x=>l=x,()=>l),E(()=>{R(I,`Question ${N(b.current)}. / ${N(b.questions.length)}`),R(_,`${N(b.right.length)} correct`),R(M,`${N(b.wrong.length)} incorrect`)}),W("close",k,u,!1),W("close",z,f,!1),Y(e,s),re()}fe(["click"]);export{Ve as component};
